<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Elite Artists - MoveM Radio's Curated Musicians with Interactive Playlists" />
  <title>Elite Artists | MOV'EM RADIO</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="icon" type="image/png" href="img/favicon.png" />
  <style>
    /* Enhanced Red & Black Theme for Elite Artists */
    body {
      background: linear-gradient(135deg, #000000 0%, #1a0000 30%, #330000 50%, #1a0000 70%, #000000 100%);
      position: relative;
      overflow-x: hidden;
    }
    
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, rgba(255, 0, 0, 0.1), transparent 70%);
      pointer-events: none;
      z-index: -1;
    }
    
    .page-section.artists {
      background: transparent;
      position: relative;
    }
    
    .page-section.artists::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 30% 30%, rgba(255, 0, 0, 0.15), transparent 60%);
      pointer-events: none;
    }
    
    #eliteArtistsHeading {
      color: #ffffff;
      text-shadow: 0 4px 20px rgba(255, 0, 0, 0.8), 0 0 30px rgba(255, 0, 0, 0.6), 0 0 50px rgba(255, 0, 0, 0.4);
      font-size: clamp(2.5rem, 5vw, 3.5rem);
      text-align: center;
      margin-bottom: 3rem;
    }
    
    .artist-selector {
      background: rgba(255, 0, 0, 0.1);
      border: 2px solid #ff0000;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 3rem;
      text-align: center;
      box-shadow: 0 8px 32px rgba(255, 0, 0, 0.3), inset 0 0 20px rgba(255, 0, 0, 0.1);
    }
    
    .artist-selector label {
      color: #ff0000;
      font-weight: bold;
      font-size: 1.2rem;
      text-shadow: 0 2px 10px rgba(255, 0, 0, 0.5);
      display: block;
      margin-bottom: 1rem;
    }
    
    .artist-dropdown {
      background: #000000;
      border: 2px solid #ff0000;
      color: #ffffff;
      padding: 1rem;
      border-radius: 8px;
      font-size: 1rem;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 4px 20px rgba(255, 0, 0, 0.3);
    }
    
    .artist-dropdown:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.3), 0 4px 20px rgba(255, 0, 0, 0.5);
    }
    
    .artist-content {
      background: rgba(255, 0, 0, 0.05);
      border: 1px solid rgba(255, 0, 0, 0.2);
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
      box-shadow: 0 8px 32px rgba(255, 0, 0, 0.2);
    }
    
    .artist-bio h2 {
      color: #ff0000;
      text-shadow: 0 2px 10px rgba(255, 0, 0, 0.5);
    }
    
    .genre {
      color: #ff0000 !important;
      font-weight: bold;
      text-shadow: 0 1px 5px rgba(255, 0, 0, 0.3);
    }
    
    .artist-grid .artist-card {
      background: rgba(255, 0, 0, 0.1);
      border: 1px solid rgba(255, 0, 0, 0.3);
      transition: all 0.3s ease;
    }
    
    .artist-grid .artist-card:hover {
      background: rgba(255, 0, 0, 0.2);
      border-color: #ff0000;
      box-shadow: 0 8px 32px rgba(255, 0, 0, 0.4);
      transform: translateY(-5px);
    }
    
    .artist-grid .artist-card.featured {
      border-color: #ff0000;
      box-shadow: 0 4px 20px rgba(255, 0, 0, 0.3);
    }
    
    .play-btn, .upload-btn, .cta-btn {
      background: linear-gradient(90deg, #ff0000, #cc0000);
      border: 2px solid #ff0000;
      color: #ffffff;
      box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
      transition: all 0.3s ease;
    }
    
    .play-btn:hover, .upload-btn:hover, .cta-btn:hover {
      background: linear-gradient(90deg, #cc0000, #990000);
      box-shadow: 0 6px 25px rgba(255, 0, 0, 0.5);
      transform: translateY(-2px);
    }
    
    /* Clean Navigation Button Hover Effects */
    .nav-btn:hover {
      transform: translateY(-3px) scale(1.02);
    }
    
    .nav-btn[style*="background: linear-gradient"]:hover {
      background: linear-gradient(90deg, #cc0000, #990000) !important;
      box-shadow: 0 6px 30px rgba(255, 0, 0, 0.6) !important;
    }
    
    .nav-btn[style*="background: transparent"]:hover {
      background: #ff0000 !important;
      color: #ffffff !important;
      box-shadow: 0 6px 25px rgba(255, 0, 0, 0.4) !important;
    }

    /* Enhanced Artist Grid Preview */
    .artist-grid-preview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin: 3rem 0;
      padding: 2rem;
      background: rgba(255, 0, 0, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(255, 0, 0, 0.2);
    }

    .artist-preview-card {
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid rgba(255, 0, 0, 0.3);
      border-radius: 12px;
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .artist-preview-card:hover {
      border-color: #ff0000;
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 10px 30px rgba(255, 0, 0, 0.4);
      background: rgba(255, 0, 0, 0.1);
    }

    .artist-preview-card.selected {
      border-color: #ff0000;
      background: rgba(255, 0, 0, 0.15);
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
    }

    .artist-image {
      width: 80px;
      height: 80px;
      margin: 0 auto 1rem;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid #ff0000;
      position: relative;
    }

    .artist-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .artist-preview-card:hover .artist-image img {
      transform: scale(1.1);
    }

    .artist-info h3 {
      color: #ffffff;
      margin: 0 0 0.5rem;
      font-size: 1.1rem;
      text-shadow: 0 2px 10px rgba(255, 0, 0, 0.3);
    }

    .artist-info p {
      color: #ff0000;
      margin: 0;
      font-size: 0.9rem;
      font-weight: bold;
    }

    /* Enhanced Artist Content */
    .artist-header {
      display: flex;
      gap: 2rem;
      margin-bottom: 2rem;
      align-items: flex-start;
    }

    .artist-profile-pic {
      position: relative;
      flex-shrink: 0;
    }

    .profile-image {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #ff0000;
      box-shadow: 0 8px 25px rgba(255, 0, 0, 0.4);
      transition: all 0.3s ease;
    }

    .profile-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .artist-profile-pic:hover .profile-overlay {
      opacity: 1;
    }

    .change-pic-btn {
      background: #ff0000;
      border: none;
      color: #ffffff;
      padding: 0.5rem;
      border-radius: 50%;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .change-pic-btn:hover {
      background: #cc0000;
      transform: scale(1.1);
    }

    .artist-details {
      flex: 1;
    }

    .artist-details h2 {
      margin-top: 0;
      font-size: 2.2rem;
      color: #ff0000;
      text-shadow: 0 4px 15px rgba(255, 0, 0, 0.5);
    }

    /* Custom Dropdown Enhancement */
    .custom-dropdown {
      position: relative;
      max-width: 400px;
      margin: 0 auto;
    }

    .artist-dropdown {
      appearance: none;
      background: #000000 url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDE0IDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNyA3TDEzIDEiIHN0cm9rZT0iI2ZmMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+') no-repeat right 1rem center;
      padding-right: 3rem;
      transition: all 0.3s ease;
    }

    .artist-dropdown:hover {
      border-color: #ff0000;
      box-shadow: 0 4px 20px rgba(255, 0, 0, 0.4);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .artist-grid-preview {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        padding: 1rem;
      }

      .artist-header {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1rem;
      }

      .profile-image {
        width: 120px;
        height: 120px;
      }

      .artist-details h2 {
        font-size: 1.8rem;
      }
    }
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="logo" aria-label="MOV'EM RADIO Home">
      <a href="home.html">MOV'EM<span style="color: #ff0000;">RADIO</span></a>
    </div>
    <nav class="main-nav" role="navigation" aria-label="Main Navigation">
      <button class="nav-toggle" aria-expanded="false" aria-controls="navMenu" aria-label="Toggle navigation" onclick="toggleNav()">‚ò∞</button>
      <ul id="navMenu">
        <li><a href="home.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="elite-artists.html" class="active">Elite Artists</a></li>
        <li><a href="radio.html">Radio</a></li>
        <li><a href="movemradiotv.html">MOV'EMRADIOTV</a></li>
        <li><a href="elite-artist-program.html">Program</a></li>
        <li><a href="music-submission.html">Submit Music</a></li>
      </ul>
    </nav>
  </header>

  <main role="main" class="content">
    <section class="page-section artists" aria-labelledby="eliteArtistsHeading">
      <div class="container">
        <h1 id="eliteArtistsHeading">Elite Artists</h1>

        <!-- Enhanced Elite Artist Selection -->
        <div class="artist-selector">
          <label for="eliteArtistSelect">üé® Select an Elite Artist:</label>
          <div class="custom-dropdown">
            <select id="eliteArtistSelect" onchange="loadArtistContent()" class="artist-dropdown">
              <option value="">Choose an Artist...</option>
              <option value="nova-grey">üé§ Mouthpiece - Alt R&B</option>
              <option value="echo-pulse">üéß Serenity Joi - Electronic</option>
              <option value="luna-verse">üåô Lil Xeen - Alternative/Emo</option>
              <option value="rhythm-atlas">üåç Brownky Dollar - Global Fusion</option>
              <option value="fa-ever">ÔøΩ fa'EVER - Hip-Hop</option>
              <option value="janra">ÔøΩ J‚àÄNRA - Alternative Rock</option>
            </select>
          </div>
        </div>

        <!-- Artist Grid Preview -->
        <div class="artist-grid-preview">
          <div class="artist-preview-card" data-artist="nova-grey" onclick="selectArtistFromCard('nova-grey')">
            <div class="artist-image">
              <img src="img/artists/nova-grey.jpg" alt="Mouthpiece" onerror="this.src='img/default-artist.png'">
            </div>
            <div class="artist-info">
              <h3>Mouthpiece</h3>
              <p>Alt R&B ‚Ä¢ Toronto</p>
            </div>
          </div>
          
          <div class="artist-preview-card" data-artist="echo-pulse" onclick="selectArtistFromCard('echo-pulse')">
            <div class="artist-image">
              <img src="img/artists/echo-pulse.jpeg" alt="Serenity Joi" onerror="this.src='img/default-artist.png'">
            </div>
            <div class="artist-info">
              <h3>Serenity Joi</h3>
              <p>Electronic ‚Ä¢ Berlin</p>
            </div>
          </div>
          
          <div class="artist-preview-card" data-artist="luna-verse" onclick="selectArtistFromCard('luna-verse')">
            <div class="artist-image">
              <img src="img/artists/luna-verse.jpeg" alt="Lil Xeen" onerror="this.src='img/default-artist.png'">
            </div>
            <div class="artist-info">
              <h3>Lil Xeen</h3>
              <p>Alternative/Emo ‚Ä¢ Las Vegas, NV</p>
            </div>
          </div>
          
          <div class="artist-preview-card" data-artist="rhythm-atlas" onclick="selectArtistFromCard('rhythm-atlas')">
            <div class="artist-image">
              <img src="img/artists/rhythm-atlas.jpeg" alt="Brownky Dollar" onerror="this.src='img/default-artist.png'">
            </div>
            <div class="artist-info">
              <h3>Brownky Dollar</h3>
              <p>Global Fusion ‚Ä¢ London</p>
            </div>
          </div>
          
          <div class="artist-preview-card" data-artist="fa-ever" onclick="selectArtistFromCard('fa-ever')">
            <div class="artist-image">
              <img src="img/artists/fa-ever.jpeg" alt="fa'EVER" onerror="this.src='img/default-artist.png'">
            </div>
            <div class="artist-info">
              <h3>fa'EVER</h3>
              <p>Hip-Hop ‚Ä¢ Atlanta</p>
            </div>
          </div>
          
          <div class="artist-preview-card" data-artist="janra" onclick="selectArtistFromCard('janra')">
            <div class="artist-image">
              <img src="img/artists/janra.jpeg" alt="J‚àÄNRA" onerror="this.src='img/default-artist.png'">
            </div>
            <div class="artist-info">
              <h3>J‚àÄNRA</h3>
              <p>Alternative Rock ‚Ä¢ Nashville</p>
            </div>
          </div>
        </div>

        <!-- Artist Content Display -->
        <div id="artistContent" class="artist-content" style="display: none;">
          <!-- Artist Bio Section with Profile Picture -->
          <div class="artist-bio">
            <div class="artist-header">
              <div class="artist-profile-pic">
                <img id="artistProfilePic" src="" alt="" class="profile-image">
                <div class="profile-overlay">
                  <button class="change-pic-btn" onclick="openImageUpload()" title="Change Profile Picture">üì∑</button>
                </div>
              </div>
              <div class="artist-details">
                <h2 id="artistName"></h2>
                <div class="artist-meta">
                  <span id="artistGenre" class="genre"></span> ‚Ä¢ 
                  <span id="artistLocation" class="location"></span>
                </div>
                <p id="artistBio" class="bio-text"></p>
              </div>
            </div>
          </div>

          <!-- Playlist Section -->
          <div class="artist-playlist">
            <h3>Featured Tracks</h3>
            <div class="playlist-container">
              <div class="upload-message" style="text-align: center; padding: 2rem; color: var(--text-dim); background: rgba(255, 0, 0, 0.05); border: 1px dashed #ff0000; border-radius: 8px; margin-bottom: 1rem;">
                <div style="font-size: 2rem; margin-bottom: 1rem;">üéµ</div>
                <h4 style="color: #ff0000; margin-bottom: 0.5rem;">No Tracks Available Yet</h4>
                <p style="margin: 0; font-size: 0.9rem;">Tracks will be uploaded personally for each artist. Check back soon for exclusive music!</p>
              </div>
              <div id="trackList" style="display: none;"></div>
            </div>
          </div>

          <!-- 24/7 Radio Player -->
          <div class="radio-player">
            <h3><span id="radioTitle"></span>'s 24/7 Radio</h3>
            <div class="player-controls">
              <audio id="radioPlayer" controls>
                Your browser does not support the audio element.
              </audio>
              <div class="player-info">
                <div id="nowPlaying" class="now-playing">Now Playing: Select a track</div>
                <div id="playerStatus" class="player-status">Ready</div>
              </div>
            </div>
            
            <!-- User Upload Section -->
            <div class="user-uploads">
              <h4>Add Your Music to the Mix</h4>
              <div class="upload-area">
                <input type="file" id="musicUpload" accept="audio/*" multiple style="display: none;" onchange="handleFileUpload(event)">
                <label for="musicUpload" class="upload-btn" id="uploadBtn">
                  <span>Choose Music Files</span>
                </label>
                <div class="upload-info">Upload MP3, WAV, or OGG files to add to <span id="uploadArtistName">the artist</span>'s playlist</div>
              </div>
              
              <!-- User Uploaded Tracks Display -->
              <div class="user-tracks">
                <h5>Current Playlist (<span id="playlistCount">0</span> tracks)</h5>
                <div id="userTracksList"></div>
                <p id="noUploads" class="no-uploads" style="display: none;">
                  No user uploads yet. Be the first to add your music!
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Enhanced Elite Artist Logo -->
        <div class="elite-artist-logo" style="text-align: center; margin: 60px 0; background: radial-gradient(circle, rgba(255, 0, 0, 0.1), transparent 70%); padding: 4rem; border-radius: 20px; border: 1px solid rgba(255, 0, 0, 0.2);">
          <img src="img/elite-artist-logo.png" alt="MOV'EM RADIO ELITE ARTIST" style="max-width: 500px; width: 100%; height: auto; filter: drop-shadow(0 8px 32px rgba(255, 0, 0, 0.8)) drop-shadow(0 0 20px rgba(255, 0, 0, 0.6)) drop-shadow(0 0 40px rgba(255, 0, 0, 0.4));" />
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <p>&copy; 2025 MoveM Radio. All rights reserved.</p>
  </footer>

  <script>
    // Elite artists data (fallback)
    let eliteArtists = {
      'nova-grey': {
        id: 'nova-grey',
        name: 'Mouthpiece',
        genre: 'Alt R&B',
        location: 'Toronto',
        profilePic: 'img/artists/nova-grey.jpg',
        bio: 'An absolutely amazing presence and sound, this phenomenal rap artist is known for his impactful lyrics, real life subject matter and keeping it as "Eastside as Possible." We welcome and present to you our newest Elite Artist.',
        playlist: [
          { id: 'ng1', title: 'Midnight Echoes', duration: '3:42', type: 'original' },
          { id: 'ng2', title: 'City Lights', duration: '4:15', type: 'original' },
          { id: 'ng3', title: 'Reflections', duration: '3:28', type: 'original' },
          { id: 'ng4', title: 'Underground', duration: '4:02', type: 'original' }
        ]
      },
      'echo-pulse': {
        id: 'echo-pulse',
        name: 'Serenity Joi',
        genre: 'Electronic',
        location: 'Berlin',
        profilePic: 'img/artists/echo-pulse.jpg',
        bio: 'Taking the music industry by storm! This highly talented, highly motivated model, singer, rapper, with phenomenal style, grace, and charisma, we welcome our newest elite artist.',
        playlist: [
          { id: 'ep1', title: 'Digital Dreams', duration: '5:23', type: 'original' },
          { id: 'ep2', title: 'Neon Pulse', duration: '4:48', type: 'original' },
          { id: 'ep3', title: 'Synthetic Soul', duration: '6:12', type: 'original' },
          { id: 'ep4', title: 'Electric Night', duration: '5:05', type: 'original' }
        ]
      },
      'luna-verse': {
        id: 'luna-verse',
        name: 'Lil Xeen',
        genre: 'Alternative/Emo',
        location: 'Las Vegas, NV',
        profilePic: 'img/artists/luna-verse.jpg',
        bio: 'New to the industry but not short on talent, with an amazing voice sound and presents in the alternative and emo music genres. We welcome and present to you our newest Elite Artist.',
        playlist: [
          { id: 'lv1', title: 'Stargazer', duration: '3:55', type: 'original' },
          { id: 'lv2', title: 'Ocean Waves', duration: '4:20', type: 'original' },
          { id: 'lv3', title: 'Golden Hour', duration: '3:38', type: 'original' },
          { id: 'lv4', title: 'Dream Catcher', duration: '4:45', type: 'original' }
        ]
      },
      'rhythm-atlas': {
        id: 'rhythm-atlas',
        name: 'Brownky Dollar',
        genre: 'Global Fusion',
        location: 'London',
        profilePic: 'img/artists/rhythm-atlas.jpg',
        bio: 'The original Elite artist coming out of Nigeria, extremely popular from Las Vegas to London and everywhere in between. With a smooth afrobeats sound and captivating presence, an artist at a high caliber and true full package.',
        playlist: [
          { id: 'ra1', title: 'World Beat', duration: '4:32', type: 'original' },
          { id: 'ra2', title: 'Desert Storm', duration: '5:18', type: 'original' },
          { id: 'ra3', title: 'Tribal Dance', duration: '4:55', type: 'original' },
          { id: 'ra4', title: 'Global Unity', duration: '5:42', type: 'original' }
        ]
      },
      'janra': {
        id: 'janra',
        name: 'J‚àÄNRA',
        genre: 'Alternative Rock',
        location: 'Nashville',
        profilePic: 'img/artists/janra.jpg',
        bio: 'A strong up and coming singer, a special sound with captivating style and presence, we welcome our newest elite artist.',
        playlist: [
          { id: 'jr1', title: 'Please upload your tracks', duration: '--', type: 'placeholder' },
          { id: 'jr2', title: 'Please upload your tracks', duration: '--', type: 'placeholder' },
          { id: 'jr3', title: 'Please upload your tracks', duration: '--', type: 'placeholder' },
          { id: 'jr4', title: 'Please upload your tracks', duration: '--', type: 'placeholder' }
        ]
      },
      'fa-ever': {
        id: 'fa-ever',
        name: 'fa\'EVER',
        genre: 'Hip-Hop',
        location: 'Atlanta',
        profilePic: 'img/artists/fa-ever.jpg',
        bio: 'With a stunning rap style, amazing stage presence and a long resume of accomplishments, a passionate Podcaster and Red Carpet host with the popular Stuck at a Green Light media, we welcome and present to you our newest Elite Artist.',
        playlist: [
          { id: 'fe1', title: 'Please upload your tracks', duration: '--', type: 'placeholder' },
          { id: 'fe2', title: 'Please upload your tracks', duration: '--', type: 'placeholder' },
          { id: 'fe3', title: 'Please upload your tracks', duration: '--', type: 'placeholder' },
          { id: 'fe4', title: 'Please upload your tracks', duration: '--', type: 'placeholder' }
        ]
      }
    };

    let currentArtist = null;
    let uploading = false;

    // Navigation toggle
    function toggleNav() {
      const navMenu = document.getElementById('navMenu');
      const navToggle = document.querySelector('.nav-toggle');
      
      navMenu.classList.toggle('open');
      const isOpen = navMenu.classList.contains('open');
      navToggle.setAttribute('aria-expanded', isOpen);
    }

    // Load artist content with API integration
    async function loadArtistContent() {
      const select = document.getElementById('eliteArtistSelect');
      const selectedArtistId = select.value;
      
      // Update preview card selection
      updatePreviewSelection(selectedArtistId);
      
      if (selectedArtistId) {
        try {
          // Try to fetch from API first
          const response = await fetch(`http://localhost:3000/api/artists/${selectedArtistId}`);
          if (response.ok) {
            currentArtist = await response.json();
            console.log('Artist loaded from API:', currentArtist.name);
          } else {
            // Fallback to local data
            currentArtist = eliteArtists[selectedArtistId];
            console.log('Using fallback data for:', selectedArtistId);
          }
        } catch (error) {
          console.log('API failed, using local data:', error);
          currentArtist = eliteArtists[selectedArtistId];
        }
        
        if (currentArtist) {
          // Show artist content
          document.getElementById('artistContent').style.display = 'block';
          
          // Populate artist info
          document.getElementById('artistName').textContent = currentArtist.name;
          document.getElementById('artistGenre').textContent = currentArtist.genre;
          document.getElementById('artistLocation').textContent = currentArtist.location;
          document.getElementById('artistBio').textContent = currentArtist.bio;
          document.getElementById('radioTitle').textContent = currentArtist.name;
          document.getElementById('uploadArtistName').textContent = currentArtist.name;
          
          // Update profile picture
          const profilePic = document.getElementById('artistProfilePic');
          profilePic.src = currentArtist.profilePic || 'img/default-artist.png';
          profilePic.alt = currentArtist.name;
          
          // Update status
          document.getElementById('playerStatus').textContent = `Ready to play ${currentArtist.name}'s radio`;
          
          // Load playlist
          loadPlaylist();
        } else {
          document.getElementById('artistContent').style.display = 'none';
          currentArtist = null;
        }
      } else {
        document.getElementById('artistContent').style.display = 'none';
        updatePreviewSelection('');
      }
    }

    // Select artist from preview card
    function selectArtistFromCard(artistId) {
      const select = document.getElementById('eliteArtistSelect');
      select.value = artistId;
      loadArtistContent();
    }

    // Update preview card selection
    function updatePreviewSelection(selectedId) {
      const cards = document.querySelectorAll('.artist-preview-card');
      cards.forEach(card => {
        if (card.dataset.artist === selectedId) {
          card.classList.add('selected');
        } else {
          card.classList.remove('selected');
        }
      });
    }

    // Open image upload (admin only functionality)
    function openImageUpload() {
      if (!currentArtist) return;
      
      // Create file input
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'image/*';
      input.style.display = 'none';
      
      input.onchange = async function(e) {
        const file = e.target.files[0];
        if (file) {
          try {
            // Create FormData for upload
            const formData = new FormData();
            formData.append('profilePicture', file);
            formData.append('artistId', currentArtist.id);
            
            // Show loading state
            const profilePic = document.getElementById('artistProfilePic');
            const originalSrc = profilePic.src;
            profilePic.style.opacity = '0.5';
            
            // Upload to server
            const response = await fetch('/api/artists/upload-profile', {
              method: 'POST',
              body: formData
            });
            
            if (response.ok) {
              const result = await response.json();
              
              // Update local data
              eliteArtists[currentArtist.id].profilePic = result.profilePicUrl;
              currentArtist.profilePic = result.profilePicUrl;
              
              // Update display with new image
              profilePic.src = result.profilePicUrl + '?t=' + Date.now(); // Cache bust
              profilePic.style.opacity = '1';
              
              // Update preview card image too
              const previewCard = document.querySelector(`[data-artist="${currentArtist.id}"] .artist-image img`);
              if (previewCard) {
                previewCard.src = result.profilePicUrl + '?t=' + Date.now();
              }
              
              console.log('Profile picture uploaded successfully for', currentArtist.name);
            } else {
              throw new Error('Upload failed');
            }
          } catch (error) {
            console.error('Error uploading profile picture:', error);
            
            // Show error and revert
            alert('Failed to upload profile picture. Please try again.');
            profilePic.style.opacity = '1';
          }
        }
      };
      
      document.body.appendChild(input);
      input.click();
      document.body.removeChild(input);
    }

    // Load playlist
    function loadPlaylist() {
      if (!currentArtist) return;
      
      const trackList = document.getElementById('trackList');
      const uploadMessage = document.querySelector('.upload-message');
      
      // Clear existing content
      trackList.innerHTML = '';
      
      // Always show the upload message instead of default tracks
      if (uploadMessage) {
        uploadMessage.style.display = 'block';
      }
      
      // Hide the trackList since we're showing the upload message
      trackList.style.display = 'none';
      
      // Check for any personally uploaded tracks (user uploads)
      const userTracks = currentArtist.playlist.filter(track => track.type === 'user');
      
      if (userTracks.length > 0) {
        // If there are user uploads, hide the message and show tracks
        if (uploadMessage) {
          uploadMessage.style.display = 'none';
        }
        trackList.style.display = 'block';
        
        // Display only user-uploaded tracks
        userTracks.forEach(track => {
          const trackElement = document.createElement('div');
          trackElement.className = 'track-item';
          trackElement.innerHTML = `
            <div class="track-info">
              <span class="track-title">${track.title}</span>
              <span class="track-duration">${track.duration}</span>
            </div>
            <button class="play-btn" onclick="playTrack('${track.title}')" aria-label="Play ${track.title}">‚ñ∂</button>
          `;
          trackList.appendChild(trackElement);
        });
      }
    }

    // Play track
    async function playTrack(trackTitle) {
      const audio = document.getElementById('radioPlayer');
      const nowPlaying = document.getElementById('nowPlaying');
      const playerStatus = document.getElementById('playerStatus');
      
      nowPlaying.textContent = `Now Playing: ${trackTitle}`;
      playerStatus.textContent = `Playing: ${trackTitle}`;
      
      // Find the track in current artist's playlist
      const track = currentArtist.playlist.find(t => t.title === trackTitle);
      
      if (track && track.type === 'user' && track.filename) {
        // For uploaded tracks, try to play from uploads directory
        const audioUrl = `http://localhost:3000/uploads/${track.filename}`;
        audio.src = audioUrl;
        try {
          await audio.play();
          console.log(`Playing uploaded track: ${trackTitle} from ${audioUrl}`);
          playerStatus.textContent = `Playing: ${trackTitle}`;
        } catch (error) {
          console.log('Failed to play uploaded track:', error);
          playerStatus.textContent = `${trackTitle} - Upload required for playback`;
        }
      } else {
        // For demo tracks, show message that actual files are needed
        console.log(`Demo track selected: ${trackTitle}`);
        playerStatus.textContent = `${trackTitle} - Demo track (upload audio files to play actual music)`;
        
        // You can add demo audio URLs here similar to radio page
        // For now, just inform user about the demo nature
        audio.src = '';
      }
    }

    // Handle file upload
    // Handle file upload with API integration
    async function handleFileUpload(event) {
      console.log('handleFileUpload called', event);
      
      if (!currentArtist) {
        alert('Please select an artist first');
        return;
      }
      
      const files = event.target.files;
      console.log('Files selected:', files.length, files);
      
      if (files.length === 0) return;
      
      uploading = true;
      const uploadBtn = document.getElementById('uploadBtn');
      const playerStatus = document.getElementById('playerStatus');
      
      uploadBtn.innerHTML = '<span>Uploading...</span>';
      uploadBtn.classList.add('uploading');
      playerStatus.textContent = 'Uploading files...';
      
      console.log('Starting upload for artist:', currentArtist.id, currentArtist.name);
      
      try {
        // Upload each file individually to the correct API endpoint
        const uploadPromises = [];
        
        Array.from(files).forEach((file, index) => {
          if (file.type.startsWith('audio/')) {
            console.log(`Processing audio file ${index}:`, file.name, file.type, file.size);
            const formData = new FormData();
            formData.append('musicFile', file);
            
            const uploadPromise = fetch(`http://localhost:3000/api/artists/${currentArtist.id}/upload`, {
              method: 'POST',
              body: formData
            }).then(response => {
              console.log(`Upload response for ${file.name}:`, response.status, response.statusText);
              return response;
            });
            
            uploadPromises.push(uploadPromise);
          } else {
            console.log(`Skipping non-audio file:`, file.name, file.type);
          }
        });
        
        if (uploadPromises.length === 0) {
          throw new Error('No valid audio files found');
        }
        
        // Wait for all uploads to complete
        const responses = await Promise.all(uploadPromises);
        const results = await Promise.all(responses.map(r => r.json()));
        
        // Check if all uploads were successful
        const successfulUploads = results.filter(r => r.success);
        
        if (successfulUploads.length > 0) {
          console.log('Upload successful:', successfulUploads);
          
          // Add uploaded tracks to current artist (they're already added by the API, but we need to refresh)
          // Refresh the artist data from API
          const artistResponse = await fetch(`http://localhost:3000/api/artists/${currentArtist.id}`);
          if (artistResponse.ok) {
            currentArtist = await artistResponse.json();
          }
          
          playerStatus.textContent = `Successfully uploaded ${successfulUploads.length} track(s) to ${currentArtist.name}'s playlist`;
        } else {
          throw new Error('All uploads failed');
        }
      } catch (error) {
        console.log('API upload failed, using local simulation:', error);
        
        // Fallback to local simulation
        Array.from(files).forEach((file, index) => {
          if (file.type.startsWith('audio/')) {
            const newTrack = {
              id: `user_${Date.now()}_${index}`,
              title: file.name.replace(/\.[^/.]+$/, ''),
              duration: 'User Upload',
              type: 'user',
              file: file
            };
            currentArtist.playlist.push(newTrack);
          }
        });
        
        playerStatus.textContent = `Added ${files.length} track(s) to ${currentArtist.name}'s playlist (local simulation)`;
      }
      
      // Reset upload button
      uploadBtn.innerHTML = '<span>Choose Music Files</span>';
      uploadBtn.classList.remove('uploading');
      uploading = false;
      
      // Reload playlist display
      loadPlaylist();
      
      // Clear file input
      event.target.value = '';
    }

    // Remove track
    function removeTrack(trackId) {
      if (!currentArtist) return;
      
      const trackIndex = currentArtist.playlist.findIndex(track => track.id === trackId);
      if (trackIndex > -1) {
        const track = currentArtist.playlist[trackIndex];
        currentArtist.playlist.splice(trackIndex, 1);
        
        document.getElementById('playerStatus').textContent = `Removed "${track.title}" from ${currentArtist.name}'s playlist`;
        loadPlaylist();
      }
    }

    // Load updated artist data from server on page load
    async function loadUpdatedArtistData() {
      try {
        const response = await fetch('http://localhost:3000/api/elite-artists');
        if (response.ok) {
          const serverArtists = await response.json();
          
          // Update the local eliteArtists object with server data
          serverArtists.forEach(artist => {
            if (eliteArtists[artist.id]) {
              eliteArtists[artist.id] = artist;
              
              // Update preview card image if it exists
              const previewCard = document.querySelector(`[data-artist="${artist.id}"] .artist-image img`);
              if (previewCard && artist.profilePic) {
                previewCard.src = artist.profilePic;
              }
            }
          });
          
          console.log('Artist data and preview images updated from server');
        }
      } catch (error) {
        console.log('Using fallback artist data');
      }
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      // Load updated artist data first
      loadUpdatedArtistData();
      
      // Close mobile nav when clicking on links
      document.querySelectorAll('.main-nav a').forEach(link => {
        link.addEventListener('click', () => {
          document.getElementById('navMenu').classList.remove('open');
          document.querySelector('.nav-toggle').setAttribute('aria-expanded', 'false');
        });
      });
    });
  </script>
</body>
</html>